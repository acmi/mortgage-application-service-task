Mortgage Application Service
----------------------------

Необходимо реализовать сервис ипотечных заявок.

Требования к API сервиса описаны в [документации OpenAPI](mortgage-application-service.json).

Сервис обслуживает 2 HTTP-запроса:
1. `POST /mortgage/application` - создание заявки на ипотеку  
Сервис принимает данные клиента: ФИО, паспорт, дата рождения, пол, доход и параметры кредита: размер и срок в месяцах.  
Расчет ежемесячного платежа производится во внешнем сервисе `mortgage-calculator-service`.
Для вызова метода расчета необходимо выполнить HTTP-запрос `/calculate`.
У севриса доступен [swagger-ui](https://mortgage-calculator-service.herokuapp.com/swagger-ui.html),
описание в формате [OpenAPI](https://mortgage-calculator-service.herokuapp.com/v3/api-docs).  
Положительное решение принимается в том случае, если доход клиента в 2 раза больше ежемесячного платежа.
В случае положительного решения в заявке проставляется статус `APPROVED` и размер ежемесячного платежа,
в противном случае по заявке выставляется статус `DENIED` и поле ежемесячного платежа не заполняется.
Вся информация по заявке должна быть сохранени в БД и доступна для последующего поиска.  
[!] При успешном выполении запроса в ответе должен быть проставлен заголовок `Location` с ссылкой на созданную заявку (на 2й метод `GET`)  
[!] Сервис должен отвергать запросы на создание заявки при существующей заявке для данного пользователя, уникальность определяется по полям ФИО + паспорт.
```
                                 ┌─────────────┐                 ┌─────────────┐
     POST /mortgage/application  │   Mortgage  │ POST /calculate │   Mortgage  │
    ────────────────────────────►│ Application ├────────────────►│ Calculation │
              (1)                │   Service   │       (2)       │   Service   │
                                 └───────────┬─┘                 └─────────────┘
                                             │
                                         (3) │  ┌────────┐
                                             │  │        │
                                             └─►│   DB   │
                                                │        │
                                                └────────┘
                                          
      1. Входящий запрос на ипотечную заявку
      2. Запрос к сервису расчета ипотеки
      3. Сохранение результата в БД
```

2. `GET /mortgage/application/{id}` - получение данных заявки по её ID
```
                                 ┌─────────────┐
 GET /mortgage/application/{id}  │   Mortgage  │
────────────────────────────────►│ Application │
              (1)                │   Service   │
                                 └───────────┬─┘
                                             │
                                         (2) │  ┌────────┐
                                             │  │        │
                                             └─►│   DB   │
                                                │        │
                                                └────────┘
                                          
      1. Входящий запрос на поиск заявки по ID
      2. Поиск сохраненной заявки в БД
```

Технические требования к реализации:
- сборка через `Maven`
- используется фреймворк `Spring Boot`
- создание схемы БД должно происходить через скрипты `Liquibase`
- для работы с бд можно использовать `JdbcTemplate` или `JPA (Hibernate)`
- вызов сервиса расчета должен быть реализован с использованием `RestTemplate` или сгенерированного по OpenAPI клиентом
- приложение + бд должны быть развернуты на платформе https://heroku.com и доступны для внешнего тестирования
